(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,,,,function(t,e,a){t.exports=a(23)},,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),o=a(9),i=a.n(o),r=a(5),s=a.n(r),l=a(7),u=a(1),d=a(2),h=a(6),p=a(4),m=a(3),b=(a(16),a(17),a(18),function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(){return Object(u.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"changeHighlightedLocation",value:function(t){this.props.changeDetailedLocation(t)}},{key:"render",value:function(){var t=this,e=this.props,a=e.element,n=e.name,o=e.region,i=e.country,r=e.temp,s=e.bg;return c.a.createElement("div",{className:"weather-card",style:{backgroundImage:"url(".concat(s,")")},id:a,onClick:function(e){return t.changeHighlightedLocation(t.props.element)}},c.a.createElement("div",{className:"location"},c.a.createElement("span",{className:"city"}," ",n," "),c.a.createElement("span",{className:"region"}," ",o,", ",i," ")),c.a.createElement("div",{className:"temp"},r,"\xb0"))}}]),a}(n.Component)),f=(a(19),function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(){return Object(u.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"add-location-btn",id:"1",onClick:function(e){return t.props.showAddLocation(e.target.id)}})}}]),a}(n.Component)),g=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(){return Object(u.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"weather-card-list"},this.props.location.map((function(e,a){return c.a.createElement(b,{key:a,element:e.id,name:e.location.name,region:e.location.region,country:e.location.country,temp:e.current.temperature,changeDetailedLocation:t.props.changeDetailedLocation,bg:e.bg})})),c.a.createElement(f,{showAddLocation:this.props.showAddLocation}))}}]),a}(n.Component),v=(a(20),function(t){return c.a.createElement("div",{className:"weather-detailed",style:{backgroundImage:"url(".concat(t.bg,")")}},c.a.createElement("div",{className:"temp-location"},c.a.createElement("span",{className:"location"}," ",t.location," "),c.a.createElement("span",{className:"temp"}," ",t.temp,"\xb0 ")),c.a.createElement("div",{className:"details"},c.a.createElement("span",null,"   Precipitatii: ",t.precip,"% "),"  ",c.a.createElement("br",null),c.a.createElement("span",null,"   Umiditate: ",t.humidity,"% "),"  ",c.a.createElement("br",null),c.a.createElement("span",null,"   Vant: ",t.wind,"km/h ")))}),L=(a(21),function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(u.a)(this,a),(n=e.call(this,t)).state={searchBox:""},n}return Object(d.a)(a,[{key:"updateSearchBox",value:function(t){this.setState({searchBox:t})}},{key:"addLocationName",value:function(){this.props.closeBox(0);var t=this.state.searchBox;this.props.addLocationName(t)}},{key:"render",value:function(){var t=this;return this.props.showAddLocation?c.a.createElement("div",{className:"search-box"},c.a.createElement("div",{className:"add-location-text"}," Adaugati locatia "),c.a.createElement("div",{className:"exit",onClick:function(e){return t.props.closeBox(0)}}," "),c.a.createElement("input",{className:"text-input",type:"text",onChange:function(e){return t.updateSearchBox(e.target.value)}}),c.a.createElement("div",{className:"button",onClick:function(){return t.addLocationName()}},"Search")):""}}]),a}(n.Component)),y=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(u.a)(this,a),(n=e.call(this,t)).changeDetailedLocation=n.changeDetailedLocation.bind(Object(h.a)(n)),n.addLocationName=n.addLocationName.bind(Object(h.a)(n)),n.showAddLocation=n.showAddLocation.bind(Object(h.a)(n)),n.state={locations:[],detailedLocation:0,showAddLocation:0},n}return Object(d.a)(a,[{key:"changeDetailedLocation",value:function(t){this.setState({detailedLocation:t})}},{key:"componentDidMount",value:function(){this.addLocation()}},{key:"addLocation",value:function(){var t=Object(l.a)(s.a.mark((function t(){var e,a,n,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Bucuresti",e="https://cors-anywhere.herokuapp.com/http://api.weatherstack.com/current?access_key=ff841349aa894a1e73d516cc496a2b25&query=".concat("Bucuresti"),t.next=4,fetch(e);case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,c=this.state.locations,"https://i.pinimg.com/originals/e7/2a/0b/e72a0be2c101e9087e4b7181276abd32.jpg",c.push(Object.assign(n,{id:this.state.locations.length,bg:"https://i.pinimg.com/originals/e7/2a/0b/e72a0be2c101e9087e4b7181276abd32.jpg"})),this.setState({locations:c});case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addLocationName",value:function(){var t=Object(l.a)(s.a.mark((function t(e){var a,n,c,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://cors-anywhere.herokuapp.com/http://api.weatherstack.com/current?access_key=ff841349aa894a1e73d516cc496a2b25&query=".concat(e),t.next=3,fetch(a);case 3:return n=t.sent,t.next=6,n.json();case 6:return c=t.sent,o=this.state.locations,t.next=10,this.addBg(c.location.region);case 10:i=t.sent,o.push(Object.assign(c,{id:this.state.locations.length,bg:i})),this.setState({locations:o});case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addBg",value:function(){var t=Object(l.a)(s.a.mark((function t(e){var a,n,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="https://app.zenserp.com/api/v2/search?apikey=b2354c10-ba50-11ea-af3b-d9cfd1f6e9fa&q=".concat(e,"&tbm=isch"),t.next=4,fetch(a);case 4:return n=t.sent,t.next=7,n.json();case 7:return c=t.sent,console.log(c.image_results[0].sourceUrl),t.abrupt("return",c.image_results[0].sourceUrl);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return","https://github.com/GeorgeNicola/Images/blob/master/city-bg.jpg?raw=true");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"showAddLocation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({showAddLocation:t})}},{key:"render",value:function(){return 0===Object.keys(this.state.locations).length&&this.state.locations.constructor===Array?c.a.createElement("div",{className:"loader"}):c.a.createElement("div",{className:"wrapp-all"},c.a.createElement(L,{addLocationName:this.addLocationName,showAddLocation:this.state.showAddLocation,closeBox:this.showAddLocation}),c.a.createElement("div",{className:"app"},c.a.createElement(g,{location:this.state.locations,changeDetailedLocation:this.changeDetailedLocation,addLocation:this.addLocationTest,showAddLocation:this.showAddLocation}),c.a.createElement(v,{location:this.state.locations[this.state.detailedLocation].location.name,temp:this.state.locations[this.state.detailedLocation].current.temperature,bg:this.state.locations[this.state.detailedLocation].bg,precip:this.state.locations[this.state.detailedLocation].current.precip,humidity:this.state.locations[this.state.detailedLocation].current.humidity,wind:this.state.locations[this.state.detailedLocation].current.wind_speed})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(22);i.a.render(c.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.8a42809e.chunk.js.map